
# SberSchool
Sber school homework 1

## ***Отличия Trunk-Based Development от Feature- подхода***
### Feature-Based 
Начнем с рассмотрения Feature- подхода. Основная идея заключается в том, что разработка каждой функции должна происходить в отдельной ветке, а не в ветке ***master***. Это позволяет нескольким разработчикам с легкостью работать над конкретной функцией, не затрагивая основную базу кода. Кроме того, благодаря этому исключены нарушения кода в ветке master, что является важным преимуществом для среды с непрерывной интеграцией.

Принято выделять следующие типы веток:
- develop
- master
- release 
- feature
- hotfix

#### Основные ветка (master) и ветка разработки (develop)
Для фиксации истории проекта в рамках этого процесса вместо одной ветки ***master*** используются две ветки. В ветке master хранится официальная история релиза, а ветка ***develop*** предназначена для объединения всех функций. 

#### Функциональные ветки (feature)

Под каждую новую функцию должна быть отведена собственная ветка, которую можно отправлять в центральный репозиторий для создания резервной копии или совместной работы команды. Ветки ***feature*** создаются не на основе ***master***, а на основе ***develop***. Когда работа над функцией завершается, соответствующая ветка сливается обратно с веткой ***develop***. Функции не следует отправлять напрямую в ветку ***master***.

#### Веткa выпуска (release)
 
 Когда в ветке ***develop*** оказывается достаточно функций для выпуска (или приближается назначенная дата выпуска), от ветки ***develop*** создается ветка ***release***. Создание этой ветки запускает следующий цикл выпуска, и с этого момента новые функции добавить больше нельзя — допускается лишь отладка багов, создание документации и решение других задач, связанных с выпуском. Когда подготовка к поставке завершается, ветка ***release*** сливается с ***master*** и ей присваивается номер версии. Кроме того, для нее нужно выполнить слияние с веткой ***develop***, в которой с момента создания ветки релиза могли возникнуть изменения. Благодаря тому, что для подготовки выпусков используется специальная ветка, одна команда может дорабатывать текущий выпуск, в то время как другая команда продолжает работу над функциями для следующего. Это также позволяет разграничить этапы разработки.
 
 #### Ветки исправления (hotfix)
 
 Ветки поддержки или ветки ***hotfix*** используются для быстрого внесения исправлений в рабочие релизы. Ветки ***hotfix*** очень похожи на ветки ***release*** и ***feature***, за исключением того, что они создаются от ***master***, а не от ***develop***. Это единственная ветка, которая должна быть создана непосредственно от ***master***. Как только исправление завершено, ветку следует объединить с ***master*** и ***develop*** (или текущей веткой ***release***), а ветка ***master*** должна быть помечена обновленным номером версии. Наличие специальной ветки для исправления ошибок позволяет команде решать проблемы, не прерывая остальную часть рабочего процесса и не ожидая следующего цикла релиза. Ветки поддержки можно рассматривать как специальные ветки ***release***, которые работают непосредственно с ***master***.
 
 
 ## Trunk-Based
 
 Модель ветвления, в которой разработчики совместно работают над кодом в одной ветви, называемой “стволом”. При этом другие ветви имеют короткий срок жизни благодаря использованию документированных методов.
Идея заключается в том, что вместо создания ветви функции для разработки кода, которая затем объединяется с основной ветвью, эта функция разделяется на небольшие части, каждая из которых по окончании работы над ней помещается в главную ветвь. 

Основные принципы TBD:
- все ветки кроме  ***master*** живут не более 2-х дней.
- Feature Flags + Branch by Abstraction
- Continuous Code Review
- ***master***  всегда готов к деплою, даже если есть не завершенные фичи

***Feature Flags*** - с помощью них разработчики могут сказать, какие фичи мы включаем, а какие нет.

- Можем мержить и деплоить код, который еще не готов.
- Можем делать A/B тесты.
- Можем шарить код между недоработанными фичами.

 ***Branch by Abstraction*** - при этом подходе, программист создает ветки не для фич, а для каких-либо маленьких абстракций. 
 
- Частые интеграции т. е. мы теперь все время работаем маленькими кусочками, даже микрокусочками.
- Мы можем рефакторить так наше приложение постепенно. У нас нет такого, что мы за один раз должны переделать вообще все. Маленькие кусочки, маленькие итерации.
- Позволяет нам быстро переключаться между задачами.

***Continuous Code Review*** - Оно дает шаринг знаний. Все программисты понимают, как код меняется. 

## Сравнение.
По моему, первое, что бросается в глаза это скорость. В TBD все процессы быстрее за счет правила недолгосрочных коммитов и веток по абстракциям, следовательно и быстрых code review. К слову, еще одно отличие в том, что в TBD создают ветку для абстракций, а не фич. Следующее отличие состоит в том, что при TBD, ***master***  ветка всегда готов в релизу, благодаря ***feature flag***'м. Разработчики могут включать и выключать конкретный функционал по его состоянию готовности.  На мой взгляд TBD подходит для команд с высоким уровнем профессиональных навыков, которые позволяют им быстро и качественно писать код, но сам бы я предпочел Feature- подход т.к он, по моему, является более понятым, не смотря на то, что там может использоваться 5 различных веток, в то время как в TBD одна основная ***master*** и краткосрочные  feature ветки.
